<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation - jpglens</title>
    <meta name="description" content="Complete documentation for jpglens - Universal AI-Powered UI Testing. Learn how to integrate AI testing into your workflow.">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/src/styles/main.css">
    <link rel="stylesheet" href="/src/styles/docs.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="/" class="brand-link">
                    <span class="brand-icon">üîç</span>
                    <span class="brand-text">jpglens</span>
                </a>
            </div>
            
            <div class="nav-menu">
                <a href="/#features" class="nav-link">Features</a>
                <a href="/docs/" class="nav-link active">Docs</a>
                <a href="/examples/" class="nav-link">Examples</a>
                <a href="/comparison/" class="nav-link">Comparison</a>
                <a href="/#community" class="nav-link">Community</a>
                <a href="https://github.com/tahabahrami/jpglens" class="nav-link github-link" target="_blank">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                    </svg>
                    GitHub
                </a>
            </div>
        </div>
    </nav>

    <!-- Mobile sidebar toggle -->
    <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
    </button>
    
    <!-- Sidebar overlay for mobile -->
    <div class="sidebar-overlay" id="sidebar-overlay"></div>

    <div class="docs-layout">
        <!-- Sidebar -->
        <aside class="docs-sidebar" id="docs-sidebar">
            <div class="sidebar-content">
                <nav class="sidebar-nav">
                    <div class="nav-section">
                        <h3 class="nav-section-title">Getting Started</h3>
                        <a href="#installation" class="nav-item active">Installation</a>
                        <a href="#quick-start" class="nav-item">Quick Start</a>
                        <a href="#configuration" class="nav-item">Configuration</a>
                    </div>
                    
                    <div class="nav-section">
                        <h3 class="nav-section-title">ü§ñ AI Integration</h3>
                        <a href="/mcp/" class="nav-item mcp-highlight">
                            <span class="nav-icon">üîó</span>
                            MCP Server
                            <span class="nav-badge">New</span>
                        </a>
                        <a href="#ai-analysis" class="nav-item">AI Analysis</a>
                        <a href="#vision-testing" class="nav-item">Vision Testing</a>
                    </div>
                    
                    <div class="nav-section">
                        <h3 class="nav-section-title">Framework Integrations</h3>
                        <a href="#playwright" class="nav-item">Playwright</a>
                        <a href="#cypress" class="nav-item">Cypress</a>
                        <a href="#selenium" class="nav-item">Selenium</a>
                        <a href="#storybook" class="nav-item">Storybook</a>
                        <a href="#testing-library" class="nav-item">Testing Library</a>
                    </div>
                    
                    <div class="nav-section">
                        <h3 class="nav-section-title">Core Concepts</h3>
                        <a href="#user-journeys" class="nav-item">User Journeys</a>
                        <a href="#analysis-types" class="nav-item">Analysis Types</a>
                        <a href="#user-personas" class="nav-item">User Personas</a>
                        <a href="#reporting" class="nav-item">Reporting</a>
                    </div>
                    
                    <div class="nav-section">
                        <h3 class="nav-section-title">API Reference</h3>
                        <a href="#api-core" class="nav-item">Core API</a>
                        <a href="#api-types" class="nav-item">Types</a>
                        <a href="#api-utilities" class="nav-item">Utilities</a>
                    </div>
                    
                    <div class="nav-section">
                        <h3 class="nav-section-title">Advanced</h3>
                        <a href="#custom-prompts" class="nav-item">Custom Prompts</a>
                        <a href="#plugins" class="nav-item">Plugins</a>
                        <a href="#performance" class="nav-item">Performance</a>
                        <a href="#troubleshooting" class="nav-item">Troubleshooting</a>
                    </div>
                </nav>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="docs-main">
            <div class="docs-content">
                <!-- Header -->
                <div class="docs-header">
                    <h1>jpglens Documentation</h1>
                    <p class="docs-subtitle">Everything you need to know about AI-powered UI testing</p>
                    
                    <div class="docs-meta">
                        <span class="docs-version">v1.1.0</span>
                        <span class="docs-updated">Updated 3 hours ago</span>
                    </div>
                </div>

                <!-- Installation Section -->
                <section id="installation" class="docs-section">
                    <h2>Installation</h2>
                    <p>Get started with jpglens in your project. Choose your preferred package manager:</p>
                    
                    <div class="install-tabs">
                        <div class="tab-buttons">
                            <button class="tab-button active" data-tab="npm">npm</button>
                            <button class="tab-button" data-tab="yarn">yarn</button>
                            <button class="tab-button" data-tab="pnpm">pnpm</button>
                        </div>
                        
                        <div class="tab-content">
                            <div class="tab-pane active" id="npm">
                                <pre><code class="language-bash">npm install --save-dev jpglens</code></pre>
                            </div>
                            <div class="tab-pane" id="yarn">
                                <pre><code class="language-bash">yarn add --dev jpglens</code></pre>
                            </div>
                            <div class="tab-pane" id="pnpm">
                                <pre><code class="language-bash">pnpm add -D jpglens</code></pre>
                            </div>
                        </div>
                    </div>
                    
                    <div class="callout callout-info">
                        <h4>üì¶ Package Information</h4>
                        <p>jpglens is available on <a href="https://www.npmjs.com/package/jpglens" target="_blank">npm registry</a> with full TypeScript support and comprehensive documentation.</p>
                    </div>
                </section>

                <!-- Quick Start Section -->
                <section id="quick-start" class="docs-section">
                    <h2>Quick Start</h2>
                    <p>Get jpglens running in your tests in under 5 minutes.</p>
                    
                    <h3>1. Set up your API key</h3>
                    <p>jpglens works with OpenAI-compatible APIs. Set your API key as an environment variable:</p>
                    
                    <pre><code class="language-bash"># .env file
JPGLENS_API_KEY="your-openrouter-or-openai-key"
JPGLENS_MODEL="anthropic/claude-3-5-sonnet"</code></pre>
                    
                    <h3>2. Add to your tests</h3>
                    <p>Choose your testing framework and add AI analysis:</p>
                    
                    <div class="code-tabs">
                        <button class="code-tab active" data-code="playwright-quick">Playwright</button>
                        <button class="code-tab" data-code="cypress-quick">Cypress</button>
                    </div>
                    
                    <div class="code-content">
                        <div class="code-pane active" id="playwright-quick">
                            <pre><code class="language-javascript">// tests/example.spec.js
import { test } from '@playwright/test';
import { analyzeUserJourney } from 'jpglens/playwright';

test('AI analyzes checkout flow', async ({ page }) => {
  await page.goto('/checkout');
  
  // Your existing test actions
  await page.fill('[data-testid="email"]', 'user@example.com');
  await page.click('[data-testid="continue"]');
  
  // Add AI analysis
  await analyzeUserJourney(page, {
    stage: 'checkout-form',
    userIntent: 'complete purchase',
    userContext: {
      persona: 'first-time-buyer',
      device: 'mobile'
    }
  });
});</code></pre>
                        </div>
                        
                        <div class="code-pane" id="cypress-quick">
                            <pre><code class="language-javascript">// cypress/e2e/example.cy.js
import 'jpglens/cypress';

describe('Checkout Flow', () => {
  it('analyzes user experience', () => {
    cy.visit('/checkout');
    
    // Your existing test actions
    cy.get('[data-cy="email"]').type('user@example.com');
    cy.get('[data-cy="continue"]').click();
    
    // Add AI analysis
    cy.analyzeUserExperience({
      stage: 'checkout-form',
      userIntent: 'complete purchase',
      userContext: {
        persona: 'first-time-buyer',
        device: 'mobile'
      }
    });
  });
});</code></pre>
                        </div>
                    </div>
                    
                    <h3>3. Run your tests</h3>
                    <p>Execute your tests as usual. jpglens will provide AI-powered insights:</p>
                    
                    <pre><code class="language-bash">npx playwright test
# or
npx cypress run</code></pre>
                    
                    <div class="callout callout-success">
                        <h4>‚úÖ That's it!</h4>
                        <p>jpglens will analyze your UI and provide detailed feedback on usability, accessibility, and user experience. Check your console or generated reports for insights.</p>
                    </div>
                </section>

                <!-- Configuration Section -->
                <section id="configuration" class="docs-section">
                    <h2>Configuration</h2>
                    <p>Customize jpglens behavior with a configuration file.</p>
                    
                    <h3>Configuration File</h3>
                    <p>Create a <code>jpglens.config.js</code> file in your project root:</p>
                    
                    <pre><code class="language-javascript">// jpglens.config.js
export default {
  // AI Provider Configuration
  ai: {
    provider: 'openrouter',
    model: 'anthropic/claude-3-5-sonnet',
    apiKey: process.env.JPGLENS_API_KEY,
    maxTokens: 4000,
    temperature: 0.1
  },

  // Analysis Configuration
  analysis: {
    types: ['usability', 'accessibility', 'visual-design', 'performance'],
    depth: 'comprehensive', // 'quick' | 'standard' | 'comprehensive'
    includeScreenshots: true
  },

  // Reporting Configuration
  reporting: {
    enabled: true,
    outputDir: './jpglens-reports',
    format: 'markdown', // 'markdown' | 'json' | 'html'
    template: 'detailed',
    includeScreenshots: true,
    customPrompts: {
      'mobile-focus': 'Analyze specifically for mobile usability',
      'accessibility-deep': 'Deep dive into WCAG 2.1 compliance'
    }
  },

  // User Personas
  userPersonas: {
    'power-user': {
      expertise: 'expert',
      device: 'desktop',
      goals: ['efficiency', 'advanced-features']
    },
    'mobile-user': {
      expertise: 'novice',
      device: 'mobile',
      goals: ['simplicity', 'speed']
    }
  }
};</code></pre>
                    
                    <h3>Environment Variables</h3>
                    <p>Set these environment variables for configuration:</p>
                    
                    <div class="config-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Variable</th>
                                    <th>Description</th>
                                    <th>Required</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>JPGLENS_API_KEY</code></td>
                                    <td>Your OpenRouter, OpenAI, or Anthropic API key</td>
                                    <td>Yes</td>
                                </tr>
                                <tr>
                                    <td><code>JPGLENS_MODEL</code></td>
                                    <td>AI model to use (e.g., "anthropic/claude-3-5-sonnet")</td>
                                    <td>No</td>
                                </tr>
                                <tr>
                                    <td><code>JPGLENS_DEBUG</code></td>
                                    <td>Enable debug logging</td>
                                    <td>No</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Playwright Integration -->
                <section id="playwright" class="docs-section">
                    <h2>Playwright Integration</h2>
                    <p>jpglens integrates seamlessly with Playwright for comprehensive browser testing.</p>
                    
                    <h3>Basic Usage</h3>
                    <pre><code class="language-javascript">import { test } from '@playwright/test';
import { analyzeUserJourney, quickAnalyze } from 'jpglens/playwright';

test('comprehensive analysis', async ({ page }) => {
  await page.goto('/app');
  
  // Detailed analysis with full context
  await analyzeUserJourney(page, {
    stage: 'dashboard-overview',
    userIntent: 'understand key metrics',
    userContext: {
      persona: 'business-analyst',
      deviceContext: 'desktop',
      expertise: 'intermediate'
    },
    criticalElements: ['charts', 'kpi-cards', 'navigation'],
    businessContext: {
      industry: 'saas',
      userRole: 'admin'
    }
  });
  
  // Quick analysis for rapid feedback
  await quickAnalyze(page, 'navigation-menu');
});</code></pre>
                    
                    <h3>User Journey Analysis</h3>
                    <p>Analyze complete user workflows across multiple pages:</p>
                    
                    <pre><code class="language-javascript">import { analyzeCompleteJourney } from 'jpglens/playwright';

const userJourney = {
  name: 'user-onboarding',
  persona: 'first-time-user',
  device: 'mobile',
  stages: [
    {
      name: 'landing',
      page: '/',
      userGoal: 'understand value proposition',
      aiAnalysis: 'first-impression and trust signals'
    },
    {
      name: 'signup',
      page: '/register',
      userGoal: 'create account with minimal friction',
      aiAnalysis: 'form usability and conversion optimization'
    },
    {
      name: 'activation',
      page: '/welcome',
      userGoal: 'understand next steps',
      aiAnalysis: 'onboarding clarity and engagement'
    }
  ]
};

test('analyze complete user journey', async ({ page }) => {
  const results = await analyzeCompleteJourney(userJourney);
  // Results contain analysis for each stage
});</code></pre>
                    
                    <div class="callout callout-tip">
                        <h4>üí° Pro Tip</h4>
                        <p>Use <code>quickAnalyze()</code> for rapid feedback during development, and <code>analyzeUserJourney()</code> for comprehensive analysis in your CI/CD pipeline.</p>
                    </div>
                </section>

                <!-- Cypress Integration Section -->
            <section id="cypress" class="docs-section">
                <h2>Cypress Integration</h2>
                <p>jpglens integrates seamlessly with Cypress for end-to-end testing with AI-powered insights.</p>
                
                <h3>Installation</h3>
                <pre><code class="language-bash">npm install --save-dev jpglens</code></pre>
                
                <h3>Basic Usage</h3>
                <pre><code class="language-javascript">// cypress/e2e/example.cy.js
import 'jpglens/cypress';

describe('User Experience Analysis', () => {
  it('analyzes checkout flow', () => {
    cy.visit('/checkout');
    
    // Your existing test actions
    cy.get('[data-cy="email"]').type('user@example.com');
    cy.get('[data-cy="continue"]').click();
    
    // Add AI analysis
    cy.analyzeUserExperience({
      stage: 'checkout-form',
      userIntent: 'complete purchase',
      userContext: {
        persona: 'first-time-buyer',
        device: 'mobile'
      }
    });
  });
});</code></pre>
                
                <h3>Advanced Features</h3>
                <pre><code class="language-javascript">// Analyze specific elements
cy.get('.product-grid').analyzeElement({
  focus: 'usability',
  userContext: { device: 'mobile' }
});

// Journey analysis
cy.analyzeJourney({
  name: 'product-discovery',
  stages: ['landing', 'search', 'product-detail', 'cart']
});</code></pre>
            </section>
            
            <!-- Selenium Integration Section -->
            <section id="selenium" class="docs-section">
                <h2>Selenium Integration</h2>
                <p>Use jpglens with Selenium WebDriver for cross-browser AI-powered testing.</p>
                
                <h3>Basic Setup</h3>
                <pre><code class="language-javascript">import { WebDriver } from 'selenium-webdriver';
import { analyzeCurrentState, analyzeUserJourney } from 'jpglens/selenium';

const driver = new WebDriver(/* your driver config */);

// Quick analysis
await analyzeCurrentState(driver, {
  focus: 'accessibility',
  userContext: { device: 'desktop' }
});

// Journey analysis
await analyzeUserJourney(driver, {
  name: 'user-registration',
  persona: 'new-user',
  stages: [
    { name: 'form', actions: ['fill-email', 'fill-password'] },
    { name: 'verification', actions: ['click-verify'] }
  ]
});</code></pre>
                
                <h3>Cross-Browser Testing</h3>
                <pre><code class="language-javascript">import { analyzeCrossBrowser } from 'jpglens/selenium';

const browsers = ['chrome', 'firefox', 'safari'];
const results = await analyzeCrossBrowser(browsers, {
  url: 'https://example.com',
  scenarios: ['mobile-nav', 'form-submission']
});

console.log(results.browserComparison);</code></pre>
            </section>
            
            <!-- Storybook Integration Section -->
            <section id="storybook" class="docs-section">
                <h2>Storybook Integration</h2>
                <p>Analyze component states and design systems within Storybook stories.</p>
                
                <h3>Story Analysis</h3>
                <pre><code class="language-javascript">// Button.stories.js
import { analyzeComponent } from 'jpglens/storybook';

export default {
  title: 'Button',
  component: Button,
};

export const Primary = {
  args: { variant: 'primary', children: 'Click me' },
  play: async ({ canvasElement }) => {
    await analyzeComponent(canvasElement, 'Button', {
      states: ['default', 'hover', 'focus', 'disabled'],
      focus: 'accessibility'
    });
  }
};</code></pre>
                
                <h3>Component Library Analysis</h3>
                <pre><code class="language-javascript">import { analyzeComponentLibrary } from 'jpglens/storybook';

const components = [
  { name: 'Button', canvas: buttonCanvas, states: ['default', 'hover'] },
  { name: 'Input', canvas: inputCanvas, states: ['empty', 'filled', 'error'] }
];

const libraryAnalysis = await analyzeComponentLibrary(components);
console.log(libraryAnalysis.designSystemConsistency);</code></pre>
            </section>
            
            <!-- Testing Library Integration Section -->
            <section id="testing-library" class="docs-section">
                <h2>Testing Library Integration</h2>
                <p>Enhance React Testing Library tests with AI-powered component analysis.</p>
                
                <h3>Component Testing</h3>
                <pre><code class="language-javascript">import { render, screen } from '@testing-library/react';
import { analyzeRenderedComponent } from 'jpglens/testing-library';
import MyComponent from './MyComponent';

test('analyzes component accessibility', async () => {
  render(&lt;MyComponent /&gt;);
  
  const analysis = await analyzeRenderedComponent(screen.getByTestId('component'), {
    focus: 'accessibility',
    includeAriaAnalysis: true
  });
  
  expect(analysis.accessibilityScore).toBeGreaterThan(0.9);
});</code></pre>
                
                <h3>User Interaction Analysis</h3>
                <pre><code class="language-javascript">import userEvent from '@testing-library/user-event';

test('analyzes user interaction flow', async () => {
  const user = userEvent.setup();
  render(&lt;LoginForm /&gt;);
  
  // Perform user actions
  await user.type(screen.getByLabelText(/email/i), 'user@example.com');
  await user.type(screen.getByLabelText(/password/i), 'password123');
  
  // Analyze the interaction
  await analyzeUserInteraction(screen.getByRole('form'), {
    interactionType: 'form-submission',
    userContext: { expertise: 'novice' }
  });
});</code></pre>
            </section>
            
            <!-- Core Concepts Sections -->
            <section id="user-journeys" class="docs-section">
                <h2>User Journeys</h2>
                <p>Define and analyze complete user workflows across multiple pages and interactions.</p>
                
                <h3>Journey Definition</h3>
                <pre><code class="language-javascript">const userJourney = {
  name: 'e-commerce-purchase',
  persona: 'first-time-buyer',
  device: 'mobile',
  stages: [
    {
      name: 'product-discovery',
      page: '/products',
      userGoal: 'find desired product',
      criticalElements: ['search', 'filters', 'product-grid']
    },
    {
      name: 'product-detail',
      page: '/product/123',
      userGoal: 'evaluate product details',
      criticalElements: ['images', 'description', 'reviews', 'add-to-cart']
    },
    {
      name: 'checkout',
      page: '/checkout',
      userGoal: 'complete purchase',
      criticalElements: ['form', 'payment', 'shipping-options']
    }
  ]
};</code></pre>
                
                <h3>Journey Templates</h3>
                <pre><code class="language-javascript">import { getJourneyTemplate } from 'jpglens';

// Pre-built journey templates
const ecommerceJourney = getJourneyTemplate('e-commerce');
const saasOnboarding = getJourneyTemplate('saas-onboarding');
const contentConsumption = getJourneyTemplate('content-consumption');</code></pre>
            </section>
            
            <section id="analysis-types" class="docs-section">
                <h2>Analysis Types</h2>
                <p>jpglens supports multiple analysis types to evaluate different aspects of your UI.</p>
                
                <h3>Available Analysis Types</h3>
                <div class="analysis-types-grid">
                    <div class="analysis-type">
                        <h4>üéØ Usability</h4>
                        <p>Evaluates user interface design, navigation clarity, and interaction patterns.</p>
                        <code>types: ['usability']</code>
                    </div>
                    
                    <div class="analysis-type">
                        <h4>‚ôø Accessibility</h4>
                        <p>Checks WCAG compliance, screen reader compatibility, and inclusive design.</p>
                        <code>types: ['accessibility']</code>
                    </div>
                    
                    <div class="analysis-type">
                        <h4>üé® Visual Design</h4>
                        <p>Analyzes visual hierarchy, color contrast, typography, and layout consistency.</p>
                        <code>types: ['visual-design']</code>
                    </div>
                    
                    <div class="analysis-type">
                        <h4>‚ö° Performance</h4>
                        <p>Evaluates loading speed, responsiveness, and performance impact on UX.</p>
                        <code>types: ['performance']</code>
                    </div>
                    
                    <div class="analysis-type">
                        <h4>üì± Mobile Optimization</h4>
                        <p>Focuses on mobile-specific usability, touch targets, and responsive design.</p>
                        <code>types: ['mobile-optimization']</code>
                    </div>
                    
                    <div class="analysis-type">
                        <h4>üí∞ Conversion Optimization</h4>
                        <p>Analyzes conversion funnels, call-to-action effectiveness, and user flow.</p>
                        <code>types: ['conversion-optimization']</code>
                    </div>
                </div>
                
                <h3>Configuration Example</h3>
                <pre><code class="language-javascript">const config = {
  analysis: {
    types: ['usability', 'accessibility', 'performance'],
    depth: 'comprehensive',
    includeScreenshots: true
  }
};</code></pre>
            </section>
            
            <section id="user-personas" class="docs-section">
                <h2>User Personas</h2>
                <p>Define user personas to tailor AI analysis for specific user types and contexts.</p>
                
                <h3>Built-in Personas</h3>
                <pre><code class="language-javascript">import { getUserPersona } from 'jpglens';

// Pre-defined personas
const businessUser = getUserPersona('business-user');
const mobileConsumer = getUserPersona('mobile-consumer');
const powerUser = getUserPersona('power-user');
const accessibilityUser = getUserPersona('accessibility-user');</code></pre>
                
                <h3>Custom Persona Definition</h3>
                <pre><code class="language-javascript">const customPersona = {
  name: 'Senior Citizen',
  expertise: 'novice',
  device: 'tablet',
  urgency: 'low',
  goals: ['simplicity', 'large-text', 'clear-navigation'],
  painPoints: ['small-text', 'complex-interfaces', 'fast-animations'],
  context: 'Limited tech experience, values clarity and patience',
  assistiveTech: ['reading-glasses', 'voice-control']
};</code></pre>
                
                <h3>Persona-Based Analysis</h3>
                <pre><code class="language-javascript">await analyzeUserJourney(page, {
  userContext: {
    persona: customPersona,
    deviceContext: 'tablet-portrait',
    expertise: 'novice'
  },
  stage: 'account-setup',
  userIntent: 'create account with minimal frustration'
});</code></pre>
            </section>
            
            <section id="reporting" class="docs-section">
                <h2>Reporting</h2>
                <p>Generate comprehensive reports from jpglens analysis results.</p>
                
                <h3>Report Formats</h3>
                <pre><code class="language-javascript">import { generateReport } from 'jpglens/utils';

// HTML Report
const htmlReport = await generateReport(analysisResults, {
  format: 'html',
  template: 'executive-summary',
  includeScreenshots: true,
  theme: 'professional'
});

// Markdown Report
const markdownReport = await generateReport(analysisResults, {
  format: 'markdown',
  includeMetrics: true,
  groupByPriority: true
});

// JSON Report for CI/CD
const jsonReport = await generateReport(analysisResults, {
  format: 'json',
  structuredData: true,
  includeRawAnalysis: false
});</code></pre>
                
                <h3>Custom Report Templates</h3>
                <pre><code class="language-javascript">const customTemplate = {
  name: 'accessibility-focused',
  sections: ['executive-summary', 'accessibility-issues', 'remediation-steps'],
  prioritize: ['critical-accessibility', 'wcag-violations'],
  includeScreenshots: true,
  format: 'html'
};

const report = await generateReport(results, { template: customTemplate });</code></pre>
                
                <h3>Real-time Reporting</h3>
                <pre><code class="language-javascript">// Stream results to dashboard
const reportStream = createReportStream({
  destination: 'dashboard',
  realtime: true,
  filters: ['critical', 'high-priority']
});

await analyzeUserJourney(page, {
  // ... analysis config
  reporting: {
    stream: reportStream,
    immediate: true
  }
});</code></pre>
            </section>
            
            <!-- AI Integration Sections -->
            <section id="ai-analysis" class="docs-section">
                <h2>AI Analysis</h2>
                <p>Deep dive into jpglens AI-powered analysis capabilities and configuration.</p>
                
                <h3>AI Provider Configuration</h3>
                <pre><code class="language-javascript">const aiConfig = {
  provider: 'openrouter', // 'openai', 'anthropic', 'openrouter'
  model: 'anthropic/claude-3-5-sonnet',
  apiKey: process.env.JPGLENS_API_KEY,
  maxTokens: 4000,
  temperature: 0.1,
  fallbackModel: 'openai/gpt-4-vision-preview'
};</code></pre>
                
                <h3>Custom Analysis Prompts</h3>
                <pre><code class="language-javascript">const customPrompts = {
  'e-commerce-focus': `
    Analyze this e-commerce interface focusing on:
    - Product discoverability
    - Purchase flow friction
    - Trust signals and security indicators
    - Mobile checkout optimization
  `,
  'accessibility-deep': `
    Perform comprehensive accessibility analysis:
    - WCAG 2.1 AA compliance
    - Screen reader compatibility
    - Keyboard navigation
    - Color contrast ratios
  `
};

await analyzeUserJourney(page, {
  customPrompts: customPrompts['e-commerce-focus']
});</code></pre>
                
                <h3>AI Model Selection</h3>
                <div class="model-comparison">
                    <h4>Recommended Models</h4>
                    <ul>
                        <li><strong>Claude 3.5 Sonnet</strong> - Best for detailed UI analysis and accessibility</li>
                        <li><strong>GPT-4 Vision</strong> - Excellent for visual design evaluation</li>
                        <li><strong>GPT-4o</strong> - Fast and cost-effective for basic analysis</li>
                    </ul>
                </div>
            </section>
            
            <section id="vision-testing" class="docs-section">
                <h2>Vision Testing</h2>
                <p>Leverage AI vision capabilities for advanced visual UI testing and analysis.</p>
                
                <h3>Visual Regression Testing</h3>
                <pre><code class="language-javascript">import { compareVisualStates } from 'jpglens/vision';

// Compare two visual states
const comparison = await compareVisualStates({
  baseline: baselineScreenshot,
  current: currentScreenshot,
  threshold: 0.95,
  ignoreRegions: ['.timestamp', '.dynamic-content'],
  aiAnalysis: true
});

if (comparison.hasSignificantChanges) {
  console.log('Visual changes detected:', comparison.changes);
}</code></pre>
                
                <h3>Component Visual Testing</h3>
                <pre><code class="language-javascript">// Test component across different states
const componentStates = ['default', 'hover', 'focus', 'disabled', 'error'];

for (const state of componentStates) {
  await page.setComponentState(state);
  
  const analysis = await analyzeVisualState(page, {
    component: 'Button',
    state: state,
    focus: ['visual-consistency', 'accessibility', 'brand-compliance']
  });
  
  expect(analysis.brandConsistency).toBeGreaterThan(0.9);
}</code></pre>
                
                <h3>Cross-Device Vision Testing</h3>
                <pre><code class="language-javascript">const devices = [
  { name: 'iPhone 13', viewport: { width: 390, height: 844 } },
  { name: 'iPad Pro', viewport: { width: 1024, height: 1366 } },
  { name: 'Desktop', viewport: { width: 1920, height: 1080 } }
];

const crossDeviceResults = await analyzeCrossDevice(devices, {
  url: '/product/123',
  scenarios: ['product-view', 'add-to-cart', 'quick-buy'],
  visionAnalysis: {
    checkLayoutShifts: true,
    validateResponsiveDesign: true,
    assessTouchTargets: true
  }
});</code></pre>
            </section>
            
            <!-- Advanced Sections -->
            <section id="custom-prompts" class="docs-section">
                <h2>Custom Prompts</h2>
                <p>Create specialized AI analysis prompts for specific testing scenarios and requirements.</p>
                
                <h3>Prompt Templates</h3>
                <pre><code class="language-javascript">import { createCustomPrompt } from 'jpglens/utils';

// Template with variables
const promptTemplate = `
Analyze this {{pageType}} for {{userType}} users focusing on {{criteria}}.
Consider the following context: {{businessContext}}

Specific requirements:
- {{requirement1}}
- {{requirement2}}
- {{requirement3}}

Provide actionable recommendations for improvement.
`;

const customPrompt = createCustomPrompt(promptTemplate, {
  pageType: 'e-commerce checkout',
  userType: 'mobile',
  criteria: 'conversion optimization',
  businessContext: 'high-value B2B sales',
  requirement1: 'minimize form fields',
  requirement2: 'build trust through security indicators',
  requirement3: 'optimize for one-handed mobile use'
});</code></pre>
                
                <h3>Industry-Specific Prompts</h3>
                <pre><code class="language-javascript">const industryPrompts = {
  healthcare: `
    Analyze this healthcare interface for:
    - HIPAA compliance indicators
    - Patient safety considerations
    - Medical terminology clarity
    - Emergency access patterns
  `,
  
  fintech: `
    Evaluate this financial interface for:
    - Security and trust signals
    - Regulatory compliance (PCI DSS)
    - Transaction clarity
    - Risk communication
  `,
  
  education: `
    Assess this educational platform for:
    - Learning accessibility (diverse abilities)
    - Age-appropriate design
    - Progress tracking clarity
    - Engagement patterns
  `
};</code></pre>
                
                <h3>Dynamic Prompt Generation</h3>
                <pre><code class="language-javascript">function generateContextualPrompt(userJourney, businessGoals) {
  const basePrompt = `Analyze this ${userJourney.stage} interface`;
  const contextPrompt = `for ${userJourney.persona} users`;
  const goalPrompt = `focusing on ${businessGoals.join(', ')}`;
  
  return `${basePrompt} ${contextPrompt} ${goalPrompt}.
    
    Consider:
    - User's current goal: ${userJourney.userIntent}
    - Device context: ${userJourney.device}
    - Business priorities: ${businessGoals.join(', ')}
    
    Provide specific, actionable recommendations.`;
}

const prompt = generateContextualPrompt(
  { stage: 'checkout', persona: 'returning-customer', userIntent: 'quick purchase', device: 'mobile' },
  ['conversion-rate', 'user-satisfaction', 'cart-abandonment-reduction']
);</code></pre>
            </section>
            
            <section id="plugins" class="docs-section">
                <h2>Plugins</h2>
                <p>Extend jpglens functionality with custom plugins and integrations.</p>
                
                <h3>Plugin Architecture</h3>
                <pre><code class="language-javascript">// Custom plugin structure
const customPlugin = {
  name: 'brand-consistency-checker',
  version: '1.0.0',
  
  // Plugin initialization
  init(config) {
    this.brandGuidelines = config.brandGuidelines;
    this.colorPalette = config.colorPalette;
    this.typography = config.typography;
  },
  
  // Analysis hook
  async analyze(screenshot, context) {
    const brandAnalysis = await this.checkBrandConsistency(screenshot);
    return {
      score: brandAnalysis.score,
      violations: brandAnalysis.violations,
      recommendations: brandAnalysis.recommendations
    };
  },
  
  // Custom analysis method
  async checkBrandConsistency(screenshot) {
    // Custom brand analysis logic
    return {
      score: 0.85,
      violations: ['incorrect-font-weight', 'off-brand-color'],
      recommendations: ['Use brand primary color #007bff', 'Apply medium font weight']
    };
  }
};</code></pre>
                
                <h3>Plugin Registration</h3>
                <pre><code class="language-javascript">import { registerPlugin } from 'jpglens';

// Register custom plugin
registerPlugin(customPlugin, {
  brandGuidelines: './brand-guidelines.json',
  colorPalette: ['#007bff', '#28a745', '#dc3545'],
  typography: { primary: 'Inter', secondary: 'JetBrains Mono' }
});

// Use plugin in analysis
await analyzeUserJourney(page, {
  plugins: ['brand-consistency-checker'],
  pluginConfig: {
    'brand-consistency-checker': {
      strictMode: true,
      includeColorAnalysis: true
    }
  }
});</code></pre>
                
                <h3>Available Plugin Types</h3>
                <div class="plugin-types">
                    <div class="plugin-type">
                        <h4>üé® Visual Plugins</h4>
                        <p>Brand consistency, design system validation, visual regression</p>
                    </div>
                    <div class="plugin-type">
                        <h4>‚ôø Accessibility Plugins</h4>
                        <p>WCAG validation, screen reader testing, color contrast</p>
                    </div>
                    <div class="plugin-type">
                        <h4>‚ö° Performance Plugins</h4>
                        <p>Core Web Vitals, loading analysis, optimization suggestions</p>
                    </div>
                    <div class="plugin-type">
                        <h4>üîí Security Plugins</h4>
                        <p>Security headers, vulnerability scanning, trust indicators</p>
                    </div>
                </div>
            </section>
            
            <section id="performance" class="docs-section">
                <h2>Performance</h2>
                <p>Optimize jpglens for speed and efficiency in your testing workflows.</p>
                
                <h3>Performance Configuration</h3>
                <pre><code class="language-javascript">const performanceConfig = {
  // Concurrent analysis
  concurrency: 3,
  
  // Cache settings
  cache: {
    enabled: true,
    ttl: 300000, // 5 minutes
    maxSize: 100  // 100 cached results
  },
  
  // Request optimization
  requests: {
    timeout: 30000,
    retries: 3,
    batchSize: 5
  },
  
  // Screenshot optimization
  screenshots: {
    quality: 80,
    format: 'webp',
    maxWidth: 1920,
    compression: true
  }
};</code></pre>
                
                <h3>Batch Analysis</h3>
                <pre><code class="language-javascript">import { batchAnalyze } from 'jpglens/performance';

// Analyze multiple pages efficiently
const pages = [
  { url: '/home', name: 'homepage' },
  { url: '/products', name: 'product-listing' },
  { url: '/checkout', name: 'checkout' }
];

const batchResults = await batchAnalyze(pages, {
  concurrency: 3,
  sharedContext: {
    userContext: { persona: 'mobile-user' },
    analysisTypes: ['usability', 'performance']
  },
  optimization: {
    reuseSession: true,
    cacheScreenshots: true,
    parallelProcessing: true
  }
});

console.log(`Analyzed ${pages.length} pages in ${batchResults.totalTime}ms`);</code></pre>
                
                <h3>Memory Management</h3>
                <pre><code class="language-javascript">// Optimize memory usage for large test suites
const memoryConfig = {
  // Clear screenshots after analysis
  autoCleanup: true,
  
  // Limit concurrent analyses
  maxConcurrentAnalyses: 2,
  
  // Stream results instead of storing in memory
  streamResults: true,
  
  // Garbage collection hints
  forceGC: true
};

await analyzeUserJourney(page, {
  ...standardConfig,
  performance: memoryConfig
});</code></pre>
                
                <h3>Performance Monitoring</h3>
                <pre><code class="language-javascript">import { PerformanceMonitor } from 'jpglens/performance';

const monitor = new PerformanceMonitor();

monitor.on('analysis-start', (data) => {
  console.log(`Starting analysis: ${data.analysisId}`);
});

monitor.on('analysis-complete', (data) => {
  console.log(`Analysis completed in ${data.duration}ms`);
  console.log(`Memory usage: ${data.memoryUsage}MB`);
});

monitor.on('bottleneck-detected', (data) => {
  console.warn(`Performance bottleneck: ${data.bottleneck}`);
  console.warn(`Recommendation: ${data.recommendation}`);
});</code></pre>
            </section>
            
            <section id="troubleshooting" class="docs-section">
                <h2>Troubleshooting</h2>
                <p>Common issues and solutions for jpglens implementation and usage.</p>
                
                <h3>Common Issues</h3>
                <div class="troubleshooting-section">
                    <h4>üîë API Key Issues</h4>
                    <div class="issue">
                        <strong>Problem:</strong> "API key is required" error
                        <br>
                        <strong>Solution:</strong>
                        <pre><code class="language-bash"># Set environment variable
export JPGLENS_API_KEY="your-api-key-here"

# Or in .env file
JPGLENS_API_KEY=your-api-key-here</code></pre>
                    </div>
                    
                    <div class="issue">
                        <strong>Problem:</strong> "Invalid API key" error
                        <br>
                        <strong>Solution:</strong> Verify your API key is correct and has proper permissions:
                        <pre><code class="language-javascript">// Test API key
import { testAPIConnection } from 'jpglens/utils';

const isValid = await testAPIConnection();
if (!isValid) {
  console.error('API key is invalid or expired');
}</code></pre>
                    </div>
                </div>
                
                <div class="troubleshooting-section">
                    <h4>üñºÔ∏è Screenshot Issues</h4>
                    <div class="issue">
                        <strong>Problem:</strong> Screenshots are blank or corrupted
                        <br>
                        <strong>Solution:</strong>
                        <pre><code class="language-javascript">// Wait for page to fully load
await page.waitForLoadState('networkidle');
await page.waitForTimeout(1000); // Additional wait

// Ensure viewport is set
await page.setViewportSize({ width: 1920, height: 1080 });</code></pre>
                    </div>
                    
                    <div class="issue">
                        <strong>Problem:</strong> Dynamic content not captured
                        <br>
                        <strong>Solution:</strong>
                        <pre><code class="language-javascript">// Wait for specific elements
await page.waitForSelector('.dynamic-content');
await page.waitForFunction(() => document.readyState === 'complete');</code></pre>
                    </div>
                </div>
                
                <div class="troubleshooting-section">
                    <h4>‚ö° Performance Issues</h4>
                    <div class="issue">
                        <strong>Problem:</strong> Analysis taking too long
                        <br>
                        <strong>Solutions:</strong>
                        <pre><code class="language-javascript">// Reduce analysis scope
const quickConfig = {
  analysis: {
    types: ['usability'], // Focus on one type
    depth: 'quick',       // Use quick analysis
    includeScreenshots: false
  }
};

// Use caching
const cachedConfig = {
  cache: {
    enabled: true,
    ttl: 600000 // 10 minutes
  }
};</code></pre>
                    </div>
                </div>
                
                <h3>Debug Mode</h3>
                <pre><code class="language-javascript">// Enable debug logging
process.env.JPGLENS_DEBUG = 'true';

// Or in configuration
const config = {
  debug: {
    enabled: true,
    logLevel: 'verbose', // 'error', 'warn', 'info', 'verbose'
    saveScreenshots: true,
    saveRequests: true
  }
};

await analyzeUserJourney(page, config);</code></pre>
                
                <h3>Health Check</h3>
                <pre><code class="language-javascript">import { healthCheck } from 'jpglens/diagnostics';

// Run comprehensive health check
const health = await healthCheck();

console.log('API Connection:', health.apiConnection);
console.log('Browser Support:', health.browserSupport);
console.log('Dependencies:', health.dependencies);
console.log('Configuration:', health.configuration);

if (!health.overall) {
  console.log('Issues found:', health.issues);
  console.log('Recommendations:', health.recommendations);
}</code></pre>
                
                <h3>Support Resources</h3>
                <ul>
                    <li>üìö <a href="https://github.com/tahabahrami/jpglens/wiki">Documentation Wiki</a></li>
                    <li>üí¨ <a href="https://github.com/tahabahrami/jpglens/discussions">Community Discussions</a></li>
                    <li>üêõ <a href="https://github.com/tahabahrami/jpglens/issues">Bug Reports</a></li>
                    <li>üìß <a href="mailto:support@jpglens.dev">Email Support</a></li>
                </ul>
            </section>

            <!-- API Reference Section -->
                <section id="api-core" class="docs-section">
                    <h2>Core API</h2>
                    <p>The core jpglens API provides powerful functions for AI-powered UI analysis and testing.</p>
                    
                    <div class="api-method">
                        <h3><code>quickAnalyze(page, options?)</code></h3>
                        <p>Performs a rapid AI analysis of the current page state. Perfect for development and quick feedback.</p>
                        
                        <div class="api-params">
                            <h4>Parameters</h4>
                            <ul>
                                <li><strong>page</strong> <code>Page</code> - Playwright page object</li>
                                <li><strong>options</strong> <code>QuickAnalyzeOptions?</code> - Optional configuration</li>
                            </ul>
                        </div>
                        
                        <div class="api-returns">
                            <h4>Returns</h4>
                            <p><code>Promise&lt;QuickAnalysisResult&gt;</code> - Analysis results with insights and recommendations</p>
                        </div>
                        
                        <div class="code-example">
                            <h4>Example</h4>
                            <pre><code class="language-javascript">import { quickAnalyze } from 'jpglens/playwright';

test('analyze login page', async ({ page }) => {
  await page.goto('/login');
  
  const analysis = await quickAnalyze(page, {
    focus: 'usability',
    includeAccessibility: true
  });
  
  console.log(analysis.insights);
  expect(analysis.score).toBeGreaterThan(0.8);
});</code></pre>
                        </div>
                    </div>
                    
                    <div class="api-method">
                        <h3><code>analyzeUserJourney(journey, options?)</code></h3>
                        <p>Analyzes a complete user journey across multiple pages and interactions.</p>
                        
                        <div class="api-params">
                            <h4>Parameters</h4>
                            <ul>
                                <li><strong>journey</strong> <code>UserJourney</code> - Journey definition with stages</li>
                                <li><strong>options</strong> <code>JourneyAnalysisOptions?</code> - Optional configuration</li>
                            </ul>
                        </div>
                        
                        <div class="api-returns">
                            <h4>Returns</h4>
                            <p><code>Promise&lt;JourneyAnalysisResult&gt;</code> - Comprehensive journey analysis</p>
                        </div>
                        
                        <div class="code-example">
                            <h4>Example</h4>
                            <pre><code class="language-javascript">const userJourney = {
  name: 'checkout-flow',
  persona: 'returning-customer',
  stages: [
    { name: 'cart', page: '/cart', userGoal: 'review items' },
    { name: 'checkout', page: '/checkout', userGoal: 'complete purchase' }
  ]
};

const results = await analyzeUserJourney(userJourney);
console.log(results.overallScore);
console.log(results.stageAnalysis);</code></pre>
                        </div>
                    </div>
                </section>

                <!-- Types Section -->
                <section id="api-types" class="docs-section">
                    <h2>Types & Interfaces</h2>
                    <p>TypeScript definitions for jpglens API components.</p>
                    
                    <div class="type-definition">
                        <h3><code>QuickAnalyzeOptions</code></h3>
                        <pre><code class="language-typescript">interface QuickAnalyzeOptions {
  focus?: 'usability' | 'performance' | 'accessibility' | 'visual' | 'all';
  includeAccessibility?: boolean;
  includePerformance?: boolean;
  customPrompts?: string[];
  outputFormat?: 'detailed' | 'summary' | 'json';
  aiProvider?: 'openai' | 'anthropic' | 'openrouter';
  model?: string;
}</code></pre>
                    </div>
                    
                    <div class="type-definition">
                        <h3><code>QuickAnalysisResult</code></h3>
                        <pre><code class="language-typescript">interface QuickAnalysisResult {
  score: number; // 0-1
  insights: string[];
  recommendations: Recommendation[];
  issues: Issue[];
  metadata: {
    timestamp: string;
    url: string;
    viewport: { width: number; height: number; };
    analysisTime: number;
  };
}</code></pre>
                    </div>
                    
                    <div class="type-definition">
                        <h3><code>UserJourney</code></h3>
                        <pre><code class="language-typescript">interface UserJourney {
  name: string;
  persona?: string;
  device?: 'desktop' | 'mobile' | 'tablet';
  stages: JourneyStage[];
}

interface JourneyStage {
  name: string;
  page: string;
  userGoal: string;
  aiAnalysis?: string;
  actions?: Action[];
}</code></pre>
                    </div>
                </section>

                <!-- Utilities Section -->
                <section id="api-utilities" class="docs-section">
                    <h2>Utilities</h2>
                    <p>Helper functions and utilities for enhanced testing workflows.</p>
                    
                    <div class="api-method">
                        <h3><code>generateReport(results, options?)</code></h3>
                        <p>Generate comprehensive reports from analysis results.</p>
                        
                        <div class="code-example">
                            <pre><code class="language-javascript">import { generateReport } from 'jpglens/utils';

const report = await generateReport(analysisResults, {
  format: 'html',
  includeScreenshots: true,
  theme: 'dark'
});

await fs.writeFile('report.html', report);</code></pre>
                        </div>
                    </div>
                    
                    <div class="api-method">
                        <h3><code>createCustomPrompt(template, variables?)</code></h3>
                        <p>Create custom AI analysis prompts for specialized testing scenarios.</p>
                        
                        <div class="code-example">
                            <pre><code class="language-javascript">const customPrompt = createCustomPrompt(
  'Analyze this {{pageType}} for {{userType}} users focusing on {{criteria}}',
  {
    pageType: 'e-commerce product page',
    userType: 'mobile',
    criteria: 'conversion optimization'
  }
);</code></pre>
                        </div>
                    </div>
                </section>
                
                <!-- Footer Navigation -->
                <div class="docs-footer-nav">
                    <a href="#" class="footer-nav-link prev">
                        <span class="nav-direction">‚Üê Previous</span>
                        <span class="nav-title">Welcome</span>
                    </a>
                    <a href="/examples/" class="footer-nav-link next">
                        <span class="nav-direction">Next ‚Üí</span>
                        <span class="nav-title">Examples</span>
                    </a>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script type="module" src="/src/scripts/main.js"></script>
    <script type="module" src="/src/scripts/docs.js"></script>
</body>
</html>
